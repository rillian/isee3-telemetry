<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8>
<title>ISEE-3 Reboot!</title>
<link rel=stylesheet type=text/css href=envision.min.css>
<script src="/socket.io/socket.io.js"></script>
<script>
function start() {
  var elements = {};
  var socket = io();
  socket.on('data', function(data) {
    if (! (data.result.id in elements)) {
      Object.defineProperty(elements, data.result.id, data.result);
      var ul = document.getElementById('data');
      var li = document.createElement('li');
      li.id = data.result.id;
      ul.appendChild(li);
    }
    var text = data.result.id;
    text += ' ' + data.result.value;
    text += ' ' + data.result.time;
    document.getElementById(data.result.id).textContent = text;
  });
}
addEventListener('load', start);
</script>
</head>
<body>
<h1>ISEE-3 Telemetry</h1>
  <div id=plot></div>
  <script src=envision.min.js></script>
  <ul id=data></ul>
  <div id=footer>
    <p>Source available on <a href="https://github.com/rillian/isee3-telemetry/tree/dev">github</a>.</p>
  </div>
</body>
</html>
